package mcRootData
version v0r2p1

use GlastPolicy
use ROOT


ignore_pattern include_none
apply_pattern package_include

apply_pattern package_linkopts

apply_pattern ld_library_path



private

# Create the Root Cint classes
macro root_headers "McVertex.h McParticle.h McEvent.h mcRootDataLinkDef.h"

# try to build this by adding to compilation for requirements
macro mcRootData_customBuild ""\
      VisualC "call $(MCROOTDATAROOT)/mcRootData/dorootcint.bat"

# on unix use a document to make rootcint part of the build process
make_fragment mcrootdata_dorootcint_header
make_fragment mcrootdata_dorootcint -header=mcrootdata_dorootcint_header
document mcrootdata_dorootcint mcRootDataRootCint CINTFILE=../mcRootData/mcRootDataCint.cxx

macro_append ROOT_linkopts " ${ROOT_PATH}/lib/libPhysics.so " \ 
      VisualC              " ${ROOT_PATH}/lib/libPhysics.lib " 

# For some reason, I was getting errors when loading the mcRootData shareable
# in root.  Linking the Root Physics library in avoids this.
macro mcRootData_shlibflags " -L${ROOT_PATH}/lib -lPhysics -lMatrix " \
      VisualC            " ${use_linkopts} "


# I think this is still ok?
library  mcRootData *.cxx \
     ../mcRootData/mcRootDataCint.cxx\
     ../mcRootData/mcRootDataCint.h\
     ../mcRootData/McVertex.h\
     ../mcRootData/McParticle.h\
     ../mcRootData/McEvent.h