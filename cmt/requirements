package mcRootData
version v2

use GlastPolicy v4r3*
use ROOT v3r2p*

ignore_pattern include_none
apply_pattern package_include

apply_pattern package_linkopts

apply_pattern ld_library_path
apply_pattern package_headers


private

# For Windows, use a setup script to run rootcint automatically
# Still using document generator for UNIX
setup_script dorootcint

# Create the Root Cint classes
macro root_headers "VolumeIdentifier.h McIntegratingHit.h McParticle.h McPositionHit.h McEvent.h mcRootDataLinkDef.h"

# on unix use a document to make rootcint part of the build process
make_fragment mcrootdata_dorootcint_header
make_fragment mcrootdata_dorootcint -header=mcrootdata_dorootcint_header
document mcrootdata_dorootcint mcRootDataRootCint CINTFILE=../mcRootData/mcRootDataCint.cxx

macro_append ROOT_linkopts " ${ROOT_PATH}/lib/libPhysics.so " \ 
      VisualC              " ${ROOT_PATH}/lib/libPhysics.lib " 

# For some reason, I was getting errors when loading the mcRootData shareable
# in root.  Linking the Root Physics library in avoids this.
macro mcRootData_shlibflags " -L${ROOT_PATH}/lib -lPhysics -lMatrix " \
      VisualC            " ${use_linkopts} "


# I think this is still ok?
library  mcRootData *.cxx \
     ../mcRootData/*.cxx \
     ${mcRootData_headers}